function checkRequiredInputs(a){var b=!0,c="";return $(".required_input",a).each(function(){var a=$(this),d=!0;0==(d=checkRequiredInput(a))&&(b=!1,c+='Не заполнено поле "'+a.data("helpnaame")+'"<br>')}),{RESULT:b,MESSAGE:c}}function checkRequiredInput(a){var b=a.parents(".form-group");return""==a.val()?(b.addClass("has-error"),!1):(b.removeClass("has-error"),!0)}$(function(){$('input[data-validation="NUMBER_MM"]').on("change",function(){var a=$(this).val(),b="";a.match(/\,/g)&&(a=a.replace(/\,/g,".")),b=parseFloat(a),a<10&&(b=1e3*a),$(this).val(b)}).on("keyup",function(){var a=$(this).val();a.match(/[^0-9\,\.]/g)&&(a=a.replace(/[^0-9\,\.]/g,"")),$(this).val(a)}),$('input[data-validation="NUMBER_INT"]').on("keyup",function(){var a=$(this).val();a.match(/[^0-9]/g)&&(a=a.replace(/[^0-9]/g,"")),$(this).val(a)}),$(".add_new_ordering_position").on("submit",function(){var a=$(this),b=$(".add-position-erroe-maessage",a.parents(".order-position-add"));return b.hide().text("").removeClass("hidden"),0==checkRequiredInputs(a).RESULT?b.text("Не все обязательные поля заполнены").show():$.ajax({method:a.attr("method"),url:a.attr("action"),data:a.serialize(),dataType:"json",success:function(c){"E"==c.STATUS?b.html(c.MESSAGE).show():"Y"==c.STATUS&&($(".add-to-order-btn",a).html("Добавлено<br>к заказу"),$(".add-position-sucess-maessage").show().removeClass("hidden"))},error:function(a){alert("error!")}}),!1}),$("input, select, textarea",$(".add_new_ordering_position")).on("change",function(){checkRequiredInput($(this))}),$(".add-new-form-ordering-position").click(function(){var a=$(".add_new_ordering_position").eq(0).clone(!0);return $("input, select, textarea",a).each(function(){$(this).val("")}),a.appendTo($(".order-position-add .form-block")),$(".add-position-sucess-maessage").hide(),!1})});